"use strict";(self.webpackChunkuserflow_docs=self.webpackChunkuserflow_docs||[]).push([[6],{38:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>c});var o=t(4848),a=t(8453);const r={slug:"why",title:"Why Userflow?",authors:["matt"]},s=void 0,i={permalink:"/blog/why",editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2024-03-05-why/index.md",source:"@site/blog/2024-03-05-why/index.md",title:"Why Userflow?",description:"I once logged into a SaaS app and was hit with 2 different modals announcing new features and welcoming me into the app. Later that day, I was sent a useless email explaining how to use a feature that I had already learned how to use after I logged in. Unfortunately, this happened on a SaaS app that my team was building.",date:"2024-03-05T00:00:00.000Z",formattedDate:"March 5, 2024",tags:[],readingTime:2.36,hasTruncateMarker:!1,authors:[{name:"Matt Dupree",title:"Maintainer of Docusaurus",url:"https://github.com/kmdupr33",imageURL:"https://github.com/kmdupr33.png",key:"matt"}],frontMatter:{slug:"why",title:"Why Userflow?",authors:["matt"]},unlisted:!1},l={authorsImageUrls:[void 0]},c=[];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",li:"li",ol:"ol",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.p,{children:"I once logged into a SaaS app and was hit with 2 different modals announcing new features and welcoming me into the app. Later that day, I was sent a useless email explaining how to use a feature that I had already learned how to use after I logged in. Unfortunately, this happened on a SaaS app that my team was building."}),"\n",(0,o.jsx)(n.p,{children:"Fixing this bad experience wasn't easy. Our onboarding code was:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"Spread out all over the codebase like spaghetti."}),"\n",(0,o.jsx)(n.li,{children:"Hardcoded into clients."}),"\n",(0,o.jsx)(n.li,{children:"Tightly coupled with vendor code and SaaS tools."}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["We all knew we shouldn't write hardcoded, tightly-coupled, spaghetti code, and yet, over time, that's how our onboarding code evovled. Different engineers working on different projects over time didn't see the mess they were going to make. A little hardcoded product tour built with ",(0,o.jsx)(n.a,{href:"https://react-joyride.com/",children:"react-joyride"})," seemed harmless. So did tightly coupling our email sending logic with ",(0,o.jsx)(n.a,{href:"https://sendgrid.com/en-us/solutions/email-api",children:"Sendgrid's"})," SDK."]}),"\n",(0,o.jsxs)(n.p,{children:["This sort of thing had happened before, and upon reflection this isn't suprising. Onboarding code often isn't fun to write, and product and marketing are often in a hurry to get it done. To work on these sorts of projects without guardrails is like writing C++. In both cases, you're circling ",(0,o.jsx)(n.a,{href:"https://blog.codinghorror.com/falling-into-the-pit-of-success/",children:"the pit of despair"}),":"]}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsx)(n.p,{children:"That's the problem with C++. It does a terrible job of protecting you from your own worst enemy \u2013 yourself. When you write code in C++, you're always circling the pit of despair, just one misstep away from plunging to your doom."}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"We wrote Userflow to create the pit of success for onboarding code, to make it easy to write centralized (cohesive), loosely-coupled, server-configurable onboarding experiences across applications, email, and beyond."}),"\n",(0,o.jsx)(n.p,{children:"The gist of our approach is to create a kind of orchestration engine for these experiences. Something like Airflow, but specifically designed for user onboarding experiences. Userflow gives you a declarative way specify the logic for which user see what at what time. Then it fetches the user data relevant to this logic from multiple sources to ensure that it is executed flawlessly."}),"\n",(0,o.jsx)(n.p,{children:"The following code would fix the bad onboarding experience I started this post with:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:'// server-config.ts\nconst config: Config = {\n  user: {\n    properties: [\n      {\n        type: "postgres",\n        name: "profileCreatedAt",\n      },\n      {\n        type: "postgres",\n        name: "profilePhotoCreatedAt",\n      },\n    ],\n  },\n  flows: [\n    {\n      name: "welcome",\n      when: "profileCreatedAt === null",\n      steps: [\n        {\n          type: "banner",\n          content: "Welcome to the app! Complete your profile!",\n        },\n        {\n          type: "modal",\n          content: "We just shipped profile photos!",\n        },\n      ],\n    },\n  ],\n};\n\nexport default config;\n'})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:"// app.jsx\nconst App = ({userEmail}) => {\n    const { flow } = useUserFlow(userEmail)\n    const {name, content} = flow\n       return (\n        <WelcomeBanner show={name === 'welcome'} content={content}/>\n        <AnnounceModal open={name === 'announce'} content={content}>\n        <Heading>\n            Good apps use userflow.\n        </Heading>\n        <Button>Ok</Button>\n    )\n}\n"})}),"\n",(0,o.jsxs)(n.p,{children:["To learn more, check out our ",(0,o.jsx)(n.a,{href:"/docs/intro",children:"docs"}),"."]})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>i});var o=t(6540);const a={},r=o.createContext(a);function s(e){const n=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),o.createElement(r.Provider,{value:n},e.children)}}}]);